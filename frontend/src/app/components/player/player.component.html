<div id="player-container">
	<div id="song-infos" *ngIf="getQueue().getQueueLength() > 0">
		<img [src]="getQueue().getCurrentSong().album.cover">
		<div id="song-titles">
			<h2 id="songName">
				{{getQueue().getCurrentSong().name}}
			</h2>
			<h3 id="artist">
				{{getQueue().getCurrentSong().album.artist.username}}
			</h3>
		</div>
	</div>
	<div id="song-infos" *ngIf="getQueue().getQueueLength() == 0"></div>
	<div id="player">
		<div id="player-controls">
			<button (click)="previousSong()">
				<img src="../../assets/previous-icon.svg" class="songs-nav">
			</button>
			<button (click)="resumeAudio()" *ngIf="!currentlyPlaying">
				<img src="../../assets/play-icon.svg">
			</button>
			<button (click)="pauseAudio()" *ngIf="currentlyPlaying">
				<img src="../../assets/pause-icon.svg">
			</button>
			<button (click)="nextSong()">
				<img src="../../assets/next-icon.svg" class="songs-nav">
			</button>
		</div>
		<div id="player-song-time">
			<p id="player-current-time">{{currentTimeAsStr}}</p>
			<input type="range" id="player-timeline" min="0" max="1" (input)="changeCurrentTime($event.target)" [value]="currentTime / songLength" step=".0001" [style.backgroundImage]="'linear-gradient(to right, #AAA 0%, #AAA ' + (currentTime / songLength) * 100 + '%, #555 ' + (currentTime / songLength) * 100 + '%, #555 100%)'">
			<p id="player-song-duration">{{songLengthAsStr}}</p>
		</div>
	</div>
	<div id="songs-control">
		<button (click)="nextLoopType()" id="loop-type">
			<img src="../../assets/loop-icon.svg" [style.borderBottom]="(loopType == 0) ? 'none' : '2px solid black'">
			<p *ngIf="loopType == 2">1</p>
		</button>
		<button (click)="toggleQueueVisibility()">
			<img src="../../assets/playlist-icon.svg" *ngIf="!visibleQueue">
			<img src="../../assets/close-playlist-icon.svg" *ngIf="visibleQueue">
		</button>
		<button (click)="toggleVolume()">
			<img src="../../assets/volume-off-icon.svg" *ngIf="volumeDisabled">
			<img src="../../assets/volume-zero-icon.svg" *ngIf="!volumeDisabled && audio.volume == 0">
			<img src="../../assets/volume-low-icon.svg" *ngIf="!volumeDisabled && audio.volume > 0 && audio.volume < .3">
			<img src="../../assets/volume-mid-icon.svg" *ngIf="!volumeDisabled && audio.volume > .3 && audio.volume < .7">
			<img src="../../assets/volume-high-icon.svg" *ngIf="!volumeDisabled && audio.volume > .7">
		</button>
		<input type="range" (input)="changeVolume($event.target)" min="0" max="1" step=".001" [value]="audio.volume" id="volume-slider" [style.backgroundImage]="'linear-gradient(to right, #AAA 0%, #AAA ' + (audio.volume) * 100 + '%, #555 ' + (audio.volume) * 100 + '%, #555 100%)'">
		<app-queue id="queue" (loadCurrentSongInPlayer)="loadCurrentSong(currentlyPlaying)" (toggleQueueVisibility)="toggleQueueVisibility()" [class.visible]="visibleQueue" [class.invisible]="!visibleQueue"></app-queue>
	</div>
</div>
